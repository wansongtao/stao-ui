import{p as A,v as g,a3 as v}from"./framework.DnC6p8Dr.js";const w=(e,t=1e3)=>{let r=0;return function(...l){const n=Date.now();n-r<t||(r=n,e.apply(this,l))}},z=({index:e,el:t,duration:r=500,direction:l="horizontal",timingFunc:n="ease",beforeChange:$,afterChange:m})=>{var x,h,b;if(!t||t.style.display==="none"||!t.children.length)return;const p=(s,f)=>{if(m){if(f<=0){m(s);return}setTimeout(()=>{m(s)},f)}},d=(s,f="")=>{if(!s)return"";const y=new RegExp(`(transition: transform [0-9]+ms ${f} 0s; ?)?(transform: translate3d\\(-?[0-9]+px, -?[0-9]+px, 0px\\); ?)?`,"g");return s.replace(y,"")},i={horizontal:s=>`translate3d(${s}px, 0px, 0px)`,vertical:s=>`translate3d(0px, ${s}px, 0px)`}[l],a=t.childElementCount;e<0?e=a-1:e>=a&&(e=0),$&&$(e);const c=(x=t.getAttribute("style"))!=null?x:"",u=d(c,n),o=l==="horizontal"?t.clientWidth:t.clientHeight;if(e===0&&c.indexOf(i(-(a-1)*o))>-1){const s=d((h=t.children[0].getAttribute("style"))!=null?h:"",n);t.children[0].setAttribute("style",`${s};transform: ${i(o*a)};`),t.setAttribute("style",`${u}transition: transform ${r}ms ${n} 0s; transform: ${i(-(o*a))};`),r<=0?(t.setAttribute("style",`${u}transform: translate3d(0px, 0px, 0px);`),t.children[0].setAttribute("style",s)):setTimeout(()=>{t.setAttribute("style",`${u}transform: translate3d(0px, 0px, 0px);`),t.children[0].setAttribute("style",s)},r),p(e,r);return}if(e===a-1&&(c.indexOf(i(0))>-1||c.indexOf("transform")===-1)){const s=d((b=t.children[e].getAttribute("style"))!=null?b:"",n);t.children[e].setAttribute("style",`${s};transform: ${i(-o*a)};`),t.setAttribute("style",`${u}transition: transform ${r}ms ${n} 0s; transform: ${i(o)};`),r<=0?(t.children[e].setAttribute("style",s),t.setAttribute("style",`${u}transform: ${i(-e*o)};`)):setTimeout(()=>{t.children[e].setAttribute("style",s),t.setAttribute("style",`${u}transform: ${i(-e*o)};`)},r),p(e,r);return}t.setAttribute("style",`${u}transition: transform ${r}ms ${n} 0s; transform: ${i(-e*o)};`),p(e,r)},C=(e,t)=>{const r=A(null);let l;return g(()=>{l=new ResizeObserver(e),r.value&&l.observe(r.value,t)}),v(()=>{l.disconnect()}),{element:r}};export{w as W,C as c,z as n};
