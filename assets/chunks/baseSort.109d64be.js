import{a2 as Q,u as H,d as g,a3 as me,r as w,q as pe,A as ve,T as fe,v as h,b as D,a4 as q,N as t,a as Y,W as B,t as E,O as G,C,B as ee,a0 as O,a5 as be,F as m,a6 as _e,X as ne,m as Ne,L as he,e as Ve,f as Ie,_ as ye}from"./framework.5bd88a67.js";import{O as ge,$ as Ee}from"./stao-ui-utils.9fc9ae65.js";import{b as xe,C as le,I as L,i as f,a as A,U as S,u as we,c as Se,d as Ae,e as Fe,f as $,g as Pe,h as Te,j as ke,m as Be,E as te,k as Ce,p as Oe,l as $e,_ as De,t as Le,n as se,w as ze,o as Ue}from"./index.9dde0719.js";const Ke=100,Me=600,ae={beforeMount(a,V){const r=V.value,{interval:s=Ke,delay:N=Me}=Q(r)?{}:r;let u,d;const o=()=>Q(r)?r():r.handler(),v=()=>{d&&(clearTimeout(d),d=void 0),u&&(clearInterval(u),u=void 0)};a.addEventListener("mousedown",I=>{I.button===0&&(v(),o(),document.addEventListener("mouseup",()=>v(),{once:!0}),d=setTimeout(()=>{u=setInterval(()=>{o()},s)},N))})}},Re=xe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:we,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:a=>a===null||f(a)||["min","max"].includes(a),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:a=>a>=0&&a===Number.parseInt(`${a}`,10)},validateEvent:{type:Boolean,default:!0}}),We={[le]:(a,V)=>V!==a,blur:a=>a instanceof FocusEvent,focus:a=>a instanceof FocusEvent,[L]:a=>f(a)||A(a),[S]:a=>f(a)||A(a)},Ye=["aria-label","onKeydown"],je=["aria-label","onKeydown"],qe=H({name:"ElInputNumber"}),Ge=H({...qe,props:Re,emits:We,setup(a,{expose:V,emit:r}){const s=a,{t:N}=Se(),u=Ae("input-number"),d=g(),o=me({currentValue:s.modelValue,userInput:null}),{formItem:v}=Fe(),I=w(()=>f(s.modelValue)&&s.modelValue<=s.min),b=w(()=>f(s.modelValue)&&s.modelValue>=s.max),y=w(()=>{const e=Z(s.step);return $(s.precision)?Math.max(Z(s.modelValue),e):(e>s.precision,s.precision)}),z=w(()=>s.controls&&s.controlsPosition==="right"),X=Pe(),x=Te(),U=w(()=>{if(o.userInput!==null)return o.userInput;let e=o.currentValue;if(A(e))return"";if(f(e)){if(Number.isNaN(e))return"";$(s.precision)||(e=e.toFixed(s.precision))}return e}),K=(e,n)=>{if($(n)&&(n=y.value),n===0)return Math.round(e);let l=String(e);const i=l.indexOf(".");if(i===-1||!l.replace(".","").split("")[i+n])return e;const T=l.length;return l.charAt(T-1)==="5"&&(l=`${l.slice(0,Math.max(0,T-1))}6`),Number.parseFloat(Number(l).toFixed(n))},Z=e=>{if(A(e))return 0;const n=e.toString(),l=n.indexOf(".");let i=0;return l!==-1&&(i=n.length-l-1),i},J=(e,n=1)=>f(e)?K(e+s.step*n):o.currentValue,M=()=>{if(s.readonly||x.value||b.value)return;const e=Number(U.value)||0,n=J(e);P(n),r(L,o.currentValue)},R=()=>{if(s.readonly||x.value||I.value)return;const e=Number(U.value)||0,n=J(e,-1);P(n),r(L,o.currentValue)},W=(e,n)=>{const{max:l,min:i,step:c,precision:_,stepStrictly:T,valueOnClear:k}=s;l<i&&Le("InputNumber","min should not be greater than max.");let p=Number(e);if(A(e)||Number.isNaN(p))return null;if(e===""){if(k===null)return null;p=be(k)?{min:i,max:l}[k]:k}return T&&(p=K(Math.round(p/c)*c,_)),$(_)||(p=K(p,_)),(p>l||p<i)&&(p=p>l?l:i,n&&r(S,p)),p},P=(e,n=!0)=>{var l;const i=o.currentValue,c=W(e);if(!n){r(S,c);return}i!==c&&(o.userInput=null,r(S,c),r(le,c,i),s.validateEvent&&((l=v==null?void 0:v.validate)==null||l.call(v,"change").catch(_=>se())),o.currentValue=c)},oe=e=>{o.userInput=e;const n=e===""?null:Number(e);r(L,n),P(n,!1)},re=e=>{const n=e!==""?Number(e):"";(f(n)&&!Number.isNaN(n)||e==="")&&P(n),o.userInput=null},ue=()=>{var e,n;(n=(e=d.value)==null?void 0:e.focus)==null||n.call(e)},ie=()=>{var e,n;(n=(e=d.value)==null?void 0:e.blur)==null||n.call(e)},ce=e=>{r("focus",e)},de=e=>{var n;r("blur",e),s.validateEvent&&((n=v==null?void 0:v.validate)==null||n.call(v,"blur").catch(l=>se()))};return pe(()=>s.modelValue,e=>{const n=W(o.userInput),l=W(e,!0);!f(n)&&(!n||n!==l)&&(o.currentValue=l,o.userInput=null)},{immediate:!0}),ve(()=>{var e;const{min:n,max:l,modelValue:i}=s,c=(e=d.value)==null?void 0:e.input;if(c.setAttribute("role","spinbutton"),Number.isFinite(l)?c.setAttribute("aria-valuemax",String(l)):c.removeAttribute("aria-valuemax"),Number.isFinite(n)?c.setAttribute("aria-valuemin",String(n)):c.removeAttribute("aria-valuemin"),c.setAttribute("aria-valuenow",String(o.currentValue)),c.setAttribute("aria-disabled",String(x.value)),!f(i)&&i!=null){let _=Number(i);Number.isNaN(_)&&(_=null),r(S,_)}}),fe(()=>{var e;const n=(e=d.value)==null?void 0:e.input;n==null||n.setAttribute("aria-valuenow",`${o.currentValue}`)}),V({focus:ue,blur:ie}),(e,n)=>(h(),D("div",{class:Y([t(u).b(),t(u).m(t(X)),t(u).is("disabled",t(x)),t(u).is("without-controls",!e.controls),t(u).is("controls-right",t(z))]),onDragstart:n[1]||(n[1]=O(()=>{},["prevent"]))},[e.controls?q((h(),D("span",{key:0,role:"button","aria-label":t(N)("el.inputNumber.decrease"),class:Y([t(u).e("decrease"),t(u).is("disabled",t(I))]),onKeydown:B(R,["enter"])},[E(t(te),null,{default:G(()=>[t(z)?(h(),C(t(ke),{key:0})):(h(),C(t(Be),{key:1}))]),_:1})],42,Ye)),[[t(ae),R]]):ee("v-if",!0),e.controls?q((h(),D("span",{key:1,role:"button","aria-label":t(N)("el.inputNumber.increase"),class:Y([t(u).e("increase"),t(u).is("disabled",t(b))]),onKeydown:B(M,["enter"])},[E(t(te),null,{default:G(()=>[t(z)?(h(),C(t(Ce),{key:0})):(h(),C(t(Oe),{key:1}))]),_:1})],42,je)),[[t(ae),M]]):ee("v-if",!0),E(t($e),{id:e.id,ref_key:"input",ref:d,type:"number",step:e.step,"model-value":t(U),placeholder:e.placeholder,readonly:e.readonly,disabled:t(x),size:t(X),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:n[0]||(n[0]=O(()=>{},["prevent"])),onKeydown:[B(O(M,["prevent"]),["up"]),B(O(R,["prevent"]),["down"])],onBlur:de,onFocus:ce,onInput:oe,onChange:re},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var He=De(Ge,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const j=ze(He);const F=a=>(Ve("data-v-a444582b"),a=a(),Ie(),a),Xe={class:"container"},Ze={class:"flexbox mr-20"},Je=F(()=>m("span",{class:"flex-shrink"},"最小值：",-1)),Qe={class:"flexbox mr-20"},en=F(()=>m("span",{class:"flex-shrink"},"最大值：",-1)),nn={class:"flexbox mr-20"},tn=F(()=>m("span",{class:"flex-shrink"},"数组长度：",-1)),sn={class:"mt-20"},an={class:"flexbox"},ln=F(()=>m("span",null,"排序耗时：",-1)),on={class:"flexbox"},rn=F(()=>m("span",{style:{"flex-shrink":"0"}},"排序结果：",-1)),un={class:"ellipsis-multi"},cn=H({__name:"baseSort",props:{sort:{type:Function}},setup(a){const V=a,r=g(0),s=g(100),N=g(20),u=g(!1),d=g([]),o=g(0),v=()=>{u.value=!0,setTimeout(()=>{d.value=ge(N.value,Ee(r.value,s.value));const I=performance.now();d.value=V.sort(d.value),o.value=performance.now()-I,u.value=!1},100)};return(I,b)=>(h(),D(Ne,null,[m("div",Xe,[m("div",Ze,[Je,E(t(j),{modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=y=>r.value=y),max:s.value,controls:!1},null,8,["modelValue","max"])]),m("div",Qe,[en,E(t(j),{modelValue:s.value,"onUpdate:modelValue":b[1]||(b[1]=y=>s.value=y),min:r.value,controls:!1},null,8,["modelValue","min"])]),m("div",nn,[tn,E(t(j),{modelValue:N.value,"onUpdate:modelValue":b[2]||(b[2]=y=>N.value=y),min:1,controls:!1},null,8,["modelValue"])]),E(t(Ue),{type:"primary",loading:u.value,onClick:v},{default:G(()=>[he("开始排序")]),_:1},8,["loading"])]),q(m("div",sn,[m("div",an,[ln,m("span",null,ne(o.value.toFixed(3))+" ms",1)]),m("div",on,[rn,m("p",un,ne(d.value.join(", ")),1)])],512),[[_e,o.value&&d.value.length]])],64))}});const vn=ye(cn,[["__scopeId","data-v-a444582b"]]);export{vn as B};
